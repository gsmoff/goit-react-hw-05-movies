"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[642],{642:function(n,t,e){e.r(t),e.d(t,{Movies:function(){return s}});var c=e(439),r=e(791),o=e(565),i=e(87),a=e(689),u=e(184),s=function(){var n,t=(0,r.useState)([]),e=(0,c.Z)(t,2),s=e[0],f=e[1],h=(0,i.lr)(),l=(0,c.Z)(h,2),d=l[0],v=l[1],m=null!==(n=d.get("searchText"))&&void 0!==n?n:"",p=(0,a.TH)();return(0,r.useEffect)((function(){null===m&&""===m||(0,o.FE)(m).then((function(n){return n.json()})).then((function(n){if(console.log(m),!n)throw new Error("Movie is not defined");f(n.results)})).catch((function(n){return console.log(n)}))}),[m]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("form",{onSubmit:function(n){n.preventdefault();var t=n.target;v({searchText:t.elements.searchText.value}),t.reset()},children:[(0,u.jsx)("input",{type:"text",name:"searchText"}),(0,u.jsx)("button",{type:"submit",children:"Search"})]}),m&&(0,u.jsx)("ul",{children:s.map((function(n){var t=n.id,e=n.title,c=n.name;return(0,u.jsx)("li",{children:(0,u.jsx)(i.rU,{to:"/movies/".concat(t),state:{from:p},children:e||c})},t)}))}),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:(0,u.jsx)(a.j3,{})})]})}},565:function(n,t,e){e.d(t,{BG:function(){return i},FE:function(){return s},Pr:function(){return a},tM:function(){return u},vw:function(){return o}});var c="https://api.themoviedb.org/3",r="bdc0e4e9aaa7667ff59f8bdca91622c0",o=function(){return fetch("".concat(c,"/trending/all/day?api_key=").concat(r))},i=function(n){return fetch("".concat(c,"/movie/").concat(n,"?api_key=").concat(r))},a=function(n){return fetch("".concat(c,"/movie/").concat(n,"/credits?api_key=").concat(r))},u=function(n){return fetch("".concat(c,"/movie/").concat(n,"/reviews?api_key=").concat(r))},s=function(n){return fetch("".concat(c,"/search/movie?api_key=").concat(r,"&query=").concat(n))}}}]);
//# sourceMappingURL=642.9f389d09.chunk.js.map